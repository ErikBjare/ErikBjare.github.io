<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Python's rough edges - Erik Bj&auml;reholt - Personal website</title>
<meta name="description" content="Blog, personal wiki, and stuff about me.
">
<meta property="og:title" content="Python's rough edges" />

<meta content="article" property="og:type">

<meta property="og:url" content="https://erik.bjareholt.com/wiki/python-weirdness/" />
<meta property="og:image" content="https://erik.bjareholt.com/img/glider.png" />

<meta content="" property="og:description">


<meta charset="UTF-8" />

<!-- Favicon -->
<link href="/img/favicon.ico" rel="shortcut icon" type="image/x-icon">

<!-- Google Authorship and Publisher Markup -->
<link rel="author" href="https://plus.google.com/+ErikBjareholt/posts">
<link rel="publisher" href="https://plus.google.com/+ErikBjareholt">

<!-- For better viewing on mobile -->
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Facebook admin -->
<meta property="fb:admins" content="1155422697" />

<!-- CSS (Bootstrap, custom) -->
<link href="//cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="/css/syntax.css">

<!-- Font -->
<link href="https://fonts.googleapis.com/css?family=Open+Sans|Libre+Baskerville" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Varela+Round&amp;subset=latin-ext" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<!-- JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="/js/negativar.js"></script>

<!-- Google Analytics -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Q5JWKQL1D3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-48818326-1', {'transport_type': 'beacon'});
  gtag('config', 'G-Q5JWKQL1D3');
</script>
<script>
// Used to track outbound links:
// https://support.google.com/analytics/answer/1136920?hl=en
var trackOutboundLink = function(url) {
  gtag('event', 'outbound', {
    "event_category": 'click', 
    "event_label": url, 
    "event_callback": function() {
      document.location = url;
    }
  });
}

// TODO: Not tested properly
// Found here: http://veithen.github.io/2015/01/24/outbound-link-tracking.html
/*
$(function() {
  $("a").click(function(e) {
    if (!ga.q) {
      var url = $(this).attr("href");
      trackOutboundLink(url);
      e.preventDefault();
    }
  });
});
*/

// Do the above initialization of outbound links, but without jQuery
for (var i = 0; i < document.links.length; i++) {
  var link = document.links[i];
  if (link.hostname != window.location.hostname) {
    link.onclick = function() {
      if(!ga.q) {
        trackOutboundLink(this.href);
        e.preventDefault();
      }
    }
  }
}

</script>

    </head>
    <body>
        <nav class="navbar navbar-expand-lg navbar-light bg-light" role=navigation>
    <div class="container-fluid">
        <a class="navbar-brand" href="/">erik.bjareholt.com</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav me-auto">
                <li class="nav-item">
                    <a class="nav-link" href="/blog/">
                        <i class="fa fa-pencil"></i>
                        <span class="pagename pagename-fold"> Blog</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/wiki/">
                        <i class="fa fa-book"></i>
                        <span class="pagename pagename-fold"> Wiki</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/about/">
                        <i class="fa-solid fa-circle-info"></i>
                        <span class="pagename pagename-fold"> About</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/jobs/">
                        <i class="fa fa-briefcase"></i>
                        <span class="pagename pagename-fold"> Jobs</span>
                    </a>
                </li>
            </ul>
            <ul class="d-flex navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="/contact/">
                        <i class="fa fa-envelope"></i>
                        <span class="pagename"> Contact</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>


        <div class="container">
            <article class="post">
    <header>
        <h1 class="title"><a href="/wiki/python-weirdness/">Python's rough edges</a></h1>
        <div class="meta">
  <small>
  <div class="meta-box">
    <span class="fa fa-user meta-icon" style="color: #05A"></span>
    Erik Bjäreholt
  </div>

  
  

  <!-- This is kept at the bottom instead.
  <div class="meta-box">
    <span title="Last Modified">
    <span class="fa fa-edit"></span>
    Updated:
    <a class="no-link-icon" title="Click to show history" href="https://github.com/ErikBjare/ErikBjare.github.io/commits/master/_wiki/python-weirdness.md">
        <time datetime="2024-06-25 12:56:22 +0200">
            2024-06-25
        </time>
    </a>
</span>

  </div>
  -->

  

  


  <div class="meta-box">
    <span class="fa fa-tags meta-icon" style="color: #666"></span>
    <span class="underline dotted">Tags:</span>
    
    
    <a href="/tags/#programming">
      <span class="label label-info" style="margin-left: 0.3em; font-size: 90%">
        programming
      </span>
    </a>
    
    
    
    <a href="/tags/#python">
      <span class="label label-info" style="margin-left: 0.3em; font-size: 90%">
        python
      </span>
    </a>
    
    
  </div>
  </small>
</div>


    </header>

    <div class="content">
        <div class="toc">
          <details open>
            <summary><b>Table of contents</b></summary>
            <ul>
  <li><a href="#performance">Performance</a></li>
  <li><a href="#single-file-executables">Single file executables</a></li>
  <li><a href="#static-type-analysis">Static type analysis</a></li>
  <li><a href="#packaging">Packaging</a></li>
  <li><a href="#virtualenv">Virtualenv</a></li>
  <li><a href="#modules">Modules</a></li>
</ul>

          </details>
        </div>

        <!-- Alternative titles:
    - Python weirdness
    - Warning: This Python has rough edges.
-->

<p>I love Python, it was the first language I was productive in and is still the language I’m most productive in despite having learned several others. But it’s not without its flaws; some are being worked on while others are hard to fix due to compatibility issues.</p>

<h2 id="performance">Performance</h2>

<p>This is no doubt one of Pythons true weaknesses and usually a good reason to not choose it if it is of importance to you.</p>

<p>However, writing C/C++/Rust extensions is usually a good way to get that performance while still being able to use Python for higher level tasks (such as in numpy, scipy, etc.).</p>

<p>Another solution is to use things like PyPy, the project trying to bring JIT to Python. But that can also have problems in practice.</p>

<p>As for longer-term projects:</p>

<ul>
  <li>Making a Python frontend for LLVM</li>
  <li>Speeding up Python using static type analysis.</li>
</ul>

<h2 id="single-file-executables">Single file executables</h2>

<p>These are annoyances when you want to distribute your application to a specific platform without the annoyances of either relying on</p>

<p>This can be done with PyInstaller.</p>

<h2 id="static-type-analysis">Static type analysis</h2>

<p>Static type analysis is great, and was for a long time one of the reasons I chose another language when I had stricter robustness requirements.</p>

<p>But today, typing in Python is getting good thanks to a few PEPs (including the typing module) and tools like mypy.</p>

<h2 id="packaging">Packaging</h2>

<p>Pypi feels old compared to say npm.</p>

<ul>
  <li>Uploading a package is a slightly cumbersome process.</li>
  <li>There is nothing neat like <code class="language-plaintext highlighter-rouge">npm init</code> or <code class="language-plaintext highlighter-rouge">cargo new</code></li>
  <li>Having one file for runtime requirements and another for development requirements feels unnecessary.</li>
</ul>

<p>Solutions in progress:</p>

<ul>
  <li>Pipfile (doesn’t solve the whole problem)</li>
</ul>

<h2 id="virtualenv">Virtualenv</h2>

<p>Virtualenv is great, but it’s pretty old by now and hasn’t really caught up with what you’d expect coming from something like npm, go or cargo (where virtualenv-equivalent behavior is the default).</p>

<h2 id="modules">Modules</h2>

<p>These were one of the things that took me the longest time to understand in Python, and I still need to look up the terminology as well as mechanics from time to time to ensure I haven’t gotten things wrong.</p>

<ul>
  <li>The difference between package and module</li>
  <li>When you can’t use relative imports</li>
  <li>The annoying workarounds needed to make a package executable using a <code class="language-plaintext highlighter-rouge">__main__.py</code></li>
</ul>

<p>Modules have differing behavior depending on whether they have been installed or whether they are just a directory somewhere.</p>

<p>As an example, forgetting to add a file import to the <code class="language-plaintext highlighter-rouge">__init__.py</code> file is fine if your package is installed using <code class="language-plaintext highlighter-rouge">--editable</code> or <code class="language-plaintext highlighter-rouge">develop</code>. But if you build your package (at least with PyInstaller) then forgetting a <code class="language-plaintext highlighter-rouge">from . import file</code> leads to that not being included in the package.</p>

<h1 id="the-python-3000-disaster">The Python 3000 disaster</h1>

<p>This is mostly over, but still very real.</p>

    </div>

    <div class="footer">
        <div style="border: solid rgba(255,255,255,0.2); border-width: 0 0 1px 0; padding-bottom: 10px;">

          <span class="mx-2">
            <span class="fa fa-link"></span>
            <a href="/wiki/python-weirdness/">Permalink</a>
          </span>

          <span class="mx-2">
            <span class="fa fa-history"></span>
            <a class="no-link-icon" href="https://github.com/ErikBjare/erikbjare.github.io/commits/master/_wiki/python-weirdness.md" title="History">
              History
            </a>
          </span>

          <span class="mx-2">
            <span class="fa fa-pencil"></span>
            <a class="no-link-icon" href="https://github.com/ErikBjare/erikbjare.github.io/edit/master/_wiki/python-weirdness.md" title="Edit">
              Edit
            </a>
          </span>

            

            <div style="float: right">
                Words: 493
            </div>

            <!-- {-% include social-buttons.html page=page %-} -->
        </div>

        
          <div class="msg-box note">
  This is a <a href="https://en.wikipedia.org/wiki/Living_document">living document</a>. Comments and contributions welcome!
</div>


          


  <div id="disqus_thread"></div>
  <script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'erikbjareholt'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
   })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


        
    </div>
</article>


        </div>

        <footer class="container small" style="margin-bottom: 2em; margin-top: 2em; padding-top: 2em; border: solid #CCC; border-width: 1px 0 0 0; color: #555">
  <div class="text-center">
    Erik Bj&auml;reholt
    <span class="fa fa-copyright-mark"></span> 2014-<script>document.write(new Date().getFullYear())</script>
  </div>
</footer>

    </body>
</html>
